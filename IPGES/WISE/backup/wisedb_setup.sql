CREATE DATABASE wisedb;
USE wisedb;
CREATE USER 'wise'@'localhost' IDENTIFIED BY 'wisepassword';
GRANT ALL PRIVILEGES ON wisedb.* TO 'wise'@'localhost';
FLUSH PRIVILEGES;

-- Create Tables

CREATE TABLE zones (id INT NOT NULL, label VARCHAR(15), label_loc CHAR(1), rgb_id MEDIUMINT, checked TINYINT, gpio_pin TINYINT, relay TINYINT, PRIMARY KEY(id));

CREATE TABLE contactors (id INT NOT NULL, zone_id INT, rgb_id MEDIUMINT, PRIMARY KEY(id));

CREATE TABLE pom (id TINYINT NOT NULL, name VARCHAR(25),  active TINYINT, message_size MEDIUMINT, 
               decoder_a0 TINYINT, decoder_a1 TINYINT, decoder_a2 TINYINT, decoder_a3 TINYINT, PRIMARY KEY(id));

CREATE TABLE pom_data (id INT NOT NULL AUTO_INCREMENT, pom_id TINYINT, insert_date DATETIME, insert_date_micro MEDIUMINT, PRIMARY KEY(id));

CREATE TABLE pom_data_samples (id INT NOT NULL AUTO_INCREMENT, pom_data_id INT, 
			   sample_type VARCHAR(10), phase CHAR(1), rms SMALLINT, min SMALLINT, max SMALLINT,
			   0_harm SMALLINT, 1_harm SMALLINT, 2_harm SMALLINT, 3_harm SMALLINT, 4_harm SMALLINT, 
               5_harm SMALLINT, 6_harm SMALLINT, 7_harm SMALLINT, 8_harm SMALLINT, 9_harm SMALLINT,     
               10_harm SMALLINT, 11_harm SMALLINT, 12_harm SMALLINT, 13_harm SMALLINT,
			   s1	TINYINT UNSIGNED, s2	TINYINT UNSIGNED, s3	TINYINT UNSIGNED, s4	TINYINT UNSIGNED, 
			   s5	TINYINT UNSIGNED, s6	TINYINT UNSIGNED, s7	TINYINT UNSIGNED, s8	TINYINT UNSIGNED,  
			   s9	TINYINT UNSIGNED, s10	TINYINT UNSIGNED, s11	TINYINT UNSIGNED, s12	TINYINT UNSIGNED,  
	    	   s13	TINYINT UNSIGNED, s14	TINYINT UNSIGNED, s15	TINYINT UNSIGNED, s16	TINYINT UNSIGNED, 
			   s17	TINYINT UNSIGNED, s18	TINYINT UNSIGNED, s19	TINYINT UNSIGNED, s20	TINYINT UNSIGNED, 
	 		   s21	TINYINT UNSIGNED, s22	TINYINT UNSIGNED, s23	TINYINT UNSIGNED, s24	TINYINT UNSIGNED, 
			   s25	TINYINT UNSIGNED, s26	TINYINT UNSIGNED, s27	TINYINT UNSIGNED, s28	TINYINT UNSIGNED, 
			   s29	TINYINT UNSIGNED, s30	TINYINT UNSIGNED, s31	TINYINT UNSIGNED, s32	TINYINT UNSIGNED, 
			   s33	TINYINT UNSIGNED, s34	TINYINT UNSIGNED, s35	TINYINT UNSIGNED, s36	TINYINT UNSIGNED, 
			   s37	TINYINT UNSIGNED, s38	TINYINT UNSIGNED, s39	TINYINT UNSIGNED, s40	TINYINT UNSIGNED, 
			   s41	TINYINT UNSIGNED, s42	TINYINT UNSIGNED, s43	TINYINT UNSIGNED, s44	TINYINT UNSIGNED, 
			   s45	TINYINT UNSIGNED, s46	TINYINT UNSIGNED, s47	TINYINT UNSIGNED, s48	TINYINT UNSIGNED, 
			   s49	TINYINT UNSIGNED, s50	TINYINT UNSIGNED, s51	TINYINT UNSIGNED, s52	TINYINT UNSIGNED, 
			   s53	TINYINT UNSIGNED, s54	TINYINT UNSIGNED, s55	TINYINT UNSIGNED, s56	TINYINT UNSIGNED, 
			   s57	TINYINT UNSIGNED, s58	TINYINT UNSIGNED, s59	TINYINT UNSIGNED, s60	TINYINT UNSIGNED, 
			   s61	TINYINT UNSIGNED, s62	TINYINT UNSIGNED, s63	TINYINT UNSIGNED, s64	TINYINT UNSIGNED, 
			   s65	TINYINT UNSIGNED, s66	TINYINT UNSIGNED, s67	TINYINT UNSIGNED, s68	TINYINT UNSIGNED, 
			   s69	TINYINT UNSIGNED, s70	TINYINT UNSIGNED, s71	TINYINT UNSIGNED, s72	TINYINT UNSIGNED, 
			   s73	TINYINT UNSIGNED, s74	TINYINT UNSIGNED, s75	TINYINT UNSIGNED, s76	TINYINT UNSIGNED, 
			   s77	TINYINT UNSIGNED, s78	TINYINT UNSIGNED, s79	TINYINT UNSIGNED, s80	TINYINT UNSIGNED, 
			   s81	TINYINT UNSIGNED, s82	TINYINT UNSIGNED, s83	TINYINT UNSIGNED, s84	TINYINT UNSIGNED, 
			   s85	TINYINT UNSIGNED, s86	TINYINT UNSIGNED, s87	TINYINT UNSIGNED, s88	TINYINT UNSIGNED, 
			   s89	TINYINT UNSIGNED, s90	TINYINT UNSIGNED, s91	TINYINT UNSIGNED, s92	TINYINT UNSIGNED, 
			   s93	TINYINT UNSIGNED, s94	TINYINT UNSIGNED, s95	TINYINT UNSIGNED, s96	TINYINT UNSIGNED, 
			   s97	TINYINT UNSIGNED, s98	TINYINT UNSIGNED, s99	TINYINT UNSIGNED, s100	TINYINT UNSIGNED, 
			   s101	TINYINT UNSIGNED, s102	TINYINT UNSIGNED, s103	TINYINT UNSIGNED, s104	TINYINT UNSIGNED, 
			   s105	TINYINT UNSIGNED, s106	TINYINT UNSIGNED, s107	TINYINT UNSIGNED, s108	TINYINT UNSIGNED, 
			   s109	TINYINT UNSIGNED, s110	TINYINT UNSIGNED, s111	TINYINT UNSIGNED, s112	TINYINT UNSIGNED, 
			   s113	TINYINT UNSIGNED, s114	TINYINT UNSIGNED, s115	TINYINT UNSIGNED, s116	TINYINT UNSIGNED, 
			   s117	TINYINT UNSIGNED, s118	TINYINT UNSIGNED, s119	TINYINT UNSIGNED, s120	TINYINT UNSIGNED, 
			   s121	TINYINT UNSIGNED, s122	TINYINT UNSIGNED, s123	TINYINT UNSIGNED, s124	TINYINT UNSIGNED, 
			   s125	TINYINT UNSIGNED, s126	TINYINT UNSIGNED, s127	TINYINT UNSIGNED, s128	TINYINT UNSIGNED, PRIMARY KEY(id));


-- Populate Data into Point of Measurement Table
INSERT INTO pom VALUES (1, 'VT-1', 1, 768, 1, 0, 0, 0); 
INSERT INTO pom VALUES (2, 'VT-2', 1, 768, 0, 1, 0, 0); 
INSERT INTO pom VALUES (3, 'VT-3', 1, 768, 1, 1, 0, 0); 
INSERT INTO pom VALUES (4, 'VT-4', 1, 768, 0, 0, 1, 0); 
INSERT INTO pom VALUES (5, 'VT-5', 1, 768, 1, 0, 1, 0); 
INSERT INTO pom VALUES (6, 'VT-6', 1, 768, 0, 1, 1, 0);
INSERT INTO pom VALUES (7, 'VT-7', 1, 768, 1, 1, 1, 0); 
INSERT INTO pom VALUES (8, 'VT-8', 1, 768, 0, 0, 0, 1); 
INSERT INTO pom VALUES (9, 'VT-9', 1, 768, 1, 0, 0, 1); 

-- Populate Data into Zone & Relay_Contactor Tables
INSERT INTO zones VALUES (1, '1-2', 'n', 255021, 0, 35, 11);
INSERT INTO zones VALUES (2, '3', 's', 255025, 0, 36, 12);
INSERT INTO zones VALUES (3, '4', 'n', 255026, 0, 35, 13);
INSERT INTO zones VALUES (4, '5-6', 'w', 255022, 0, 38, 14);
INSERT INTO zones VALUES (5, '7', 'w', 255027, 0, 37, 15);
INSERT INTO zones VALUES (6, '8', 'e', 255028, 0, 40, 16);
INSERT INTO zones VALUES (7, '9', 's', 255029, 0, 13, 1);
INSERT INTO zones VALUES (8, '10', 'n', 255030, 0, 16, 2);
INSERT INTO zones VALUES (9, '11', 'w', 255031, 0, 15, 3);
INSERT INTO zones VALUES (10, '12-14', 's', 255024, 0, 18, 4);
INSERT INTO zones VALUES (11, '13-15', 'n', 255023, 0, 29, 5);
INSERT INTO zones VALUES (12, '16', 's', 255032, 0, 22, 6);
INSERT INTO zones VALUES (13, '17', 'n', 255033, 0, 31, 7);
INSERT INTO zones VALUES (14, '18', 'e', 255034, 0, 32, 8);

-- Populate Data into Contactor Table
INSERT INTO contactors VALUES (1, 1, 25501);
INSERT INTO contactors VALUES (2, 1, 25502);
INSERT INTO contactors VALUES (3, 2, 25503);
INSERT INTO contactors VALUES (4, 3, 25504);
INSERT INTO contactors VALUES (5, 4, 25505);
INSERT INTO contactors VALUES (6, 4, 25506);
INSERT INTO contactors VALUES (7, 5, 25507);
INSERT INTO contactors VALUES (8, 6, 25508);
INSERT INTO contactors VALUES (9, 7, 25509);
INSERT INTO contactors VALUES (10, 8, 255010);
INSERT INTO contactors VALUES (11, 9, 255011);
INSERT INTO contactors VALUES (12, 10, 255012);
INSERT INTO contactors VALUES (13, 11, 255013);
INSERT INTO contactors VALUES (14, 10, 255014);
INSERT INTO contactors VALUES (15, 11, 255015);
INSERT INTO contactors VALUES (16, 12, 255016);
INSERT INTO contactors VALUES (17, 13, 255017);
INSERT INTO contactors VALUES (18, 14, 255018);

